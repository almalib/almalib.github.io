{"version":3,"sources":["webpack:///node_modules/s-chat/dist/esm/cnt-module-chat.entry.js"],"names":["cntModuleChatCss","CntModuleChat","hostRef","writing","visibleState","chatViewState","dialogs","canRecordAudio","contactsState","contacts","categoriesState","categories","dialogsState","messageState","message","ShowContent","content","onClickToCategory","item","safeFiltersDialog","lastSearchDialog","detail","onClickToDialog","clickToDialogHandler","onClickToFilesBtn","clickToFilesBtnHandler","onSearchDialog","lastClickedCategory","onSendNewMessModal","sendNewMessModal","chatPresenceState","openedDialog","chatActionState","onSendTextMessage","scrollMessageViewToBot","onSearchPersonalMessages","e","searchPersonalMessages","onClickToShowDialogs","clickToShowDialogsHandler","onClickToUserProfile","clickToUserProfileHandler","onCancelSearchPersonal","cancelSearchPersonal","theme","onClickToShowFolders","clickToShowFoldersHandler","onCreateFolder","createFolderHandler","showFullChat","createFolder","clickToDialog","sendTextMessage","clickToFilesBtn","searchContact","chatViewStateChange","state","disableShowFullChatState","showChat","dialog","open","newValue","updateDictionary","oldValue","console","log","dictionary","style","display","openState","onShowFullChat","showFullChatHandler","onClose","onClickToShowChat","countNewMess","dictionary$","next","array","counter","map","newMessage","searchValue","category","allDialogs","filteredDialogsBySearchValue","disableInnerSearchDialogsState","value","disableInnerSearchMessagesState","pseudoClick","emit","updateViewState","personal","files","view","data","profile","folders","safeScrollToBot"],"mappings":"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","file":"stencil-cnt-module-chat-entry-js-es5.js","sourcesContent":["import { r as registerInstance, h, c as createEvent, H as Host, g as getElement } from './index-063f1606.js';\nimport { C as ChatDictionaryService, a as ChatMessagesLogic } from './utils-f6ec1f87.js';\nimport { e as ChatViewToShowEnum, g as filterDialogsBySearchValue, h as filterDialogsByCategory, i as filterMessageBySearchValue } from './index-582bc2f2.js';\n\nconst cntModuleChatCss = \".wrapper-chat.sc-cnt-module-chat{-webkit-box-shadow:0 0 10px 1px #828282;box-shadow:0 0 10px 1px #828282;border-radius:10px;width:400px;overflow:hidden;height:calc(100vh - 130px);background-color:#fff}.m-chat-wrapper.sc-cnt-module-chat{height:calc(100vh - 170px)}.drop-file-wrapper.sc-cnt-module-chat{height:calc(100vh - 177px)}.content-chat.sc-cnt-module-chat .personal-wrapper.sc-cnt-module-chat .personal-message.sc-cnt-module-chat{height:calc(100vh - 370px)}.content-chat.sc-cnt-module-chat .personal-footer.sc-cnt-module-chat .footer-wrapper.sc-cnt-module-chat{border-radius:10px 10px 5px 5px}.content-chat.sc-cnt-module-chat .profile.sc-cnt-module-chat .mobile.sc-cnt-module-chat{height:100vh;overflow:auto}@media (max-width: 414px){.wrapper-chat.sc-cnt-module-chat{border-radius:0px}.wrapper-chat.sc-cnt-module-chat{width:414px;height:100vh}.content-chat.sc-cnt-module-chat .personal-wrapper.sc-cnt-module-chat .personal-message.sc-cnt-module-chat{height:calc(100vh - 215px)}}.wrapper-modal.sc-cnt-module-chat{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-direction:column;flex-direction:column;position:fixed;top:2%;right:2%;z-index:999}.message.sc-cnt-module-chat{font-size:14px;height:21px;overflow:hidden;width:260px;margin-top:5px;white-space:nowrap;cursor:pointer}.user.sc-cnt-module-chat{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:end;align-items:flex-end}.user-img.sc-cnt-module-chat{width:20%;margin:auto}.user-img.sc-cnt-module-chat .img.sc-cnt-module-chat{width:43px;height:43px;border-radius:50%;background-size:cover;margin:auto}.user-info.sc-cnt-module-chat{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;width:90%}.user-info.sc-cnt-module-chat .name.sc-cnt-module-chat{font-weight:500;font-size:13px}.sc-cnt-module-chat::-webkit-scrollbar{width:5px}.sc-cnt-module-chat::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.3);-webkit-border-radius:5px;border-radius:3px}.sc-cnt-module-chat::-webkit-scrollbar-thumb{-webkit-border-radius:10px;border-radius:10px;background:rgba(108, 108, 108, 0.8);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.5)}.sc-cnt-module-chat::-webkit-scrollbar-thumb:window-inactive{background:rgba(106, 106, 106, 0.4)}@media (max-width: 414px){.wrapper-modal.sc-cnt-module-chat{top:0%;right:0%;max-width:414px}.wrapper-chat.sc-cnt-module-chat{width:414px}.personal-messages.sc-cnt-module-chat{height:80vh}.users.sc-cnt-module-chat{height:80vh}.m-chat-wrapper.sc-cnt-module-chat{height:calc(100vh - 40px)}}@media (max-width: 375px){.wrapper-chat.sc-cnt-module-chat{max-width:375px;padding-right:0px}.users.sc-cnt-module-chat{padding:0px 10px}.new-mess.sc-cnt-module-chat{right:12%}}@media (max-width: 320px){.wrapper-chat.sc-cnt-module-chat{max-width:320px}.chat-header.sc-cnt-module-chat a.sc-cnt-module-chat{right:25%}.message-date.sc-cnt-module-chat{font-size:11px}.users.sc-cnt-module-chat{padding:0px 25px}.personal-messages.sc-cnt-module-chat{padding:0 10px}}\";\n\nconst CntModuleChat = class {\r\n    constructor(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        // /**\r\n        //  * Заголовок для чата\r\n        //  * */\r\n        // @Prop() titleModule: TitleModuleInterface;\r\n        /**\r\n         * добавляем печатающий\r\n         * */\r\n        this.writing = [];\r\n        /**\r\n         * видимость\r\n         * */\r\n        this.visibleState = true;\r\n        /**\r\n         * select content default\r\n         * */\r\n        this.chatViewState = ChatViewToShowEnum.dialogs;\r\n        //============================================================================================\r\n        /**\r\n         * Возможность записи аудио\r\n         */\r\n        this.canRecordAudio = false;\r\n        /**\r\n         * массив данных для контактов\r\n         * */\r\n        this.contactsState = this.contacts;\r\n        /**\r\n         * массив данных категорий\r\n         * */\r\n        this.categoriesState = this.categories;\r\n        /**\r\n         * массив данных диалогов\r\n         * */\r\n        this.dialogsState = this.dialogs;\r\n        /**\r\n         * массив данных персонального чата\r\n         * */\r\n        this.messageState = this.message;\r\n        /**\r\n         * Select show content\r\n         * */\r\n        this.ShowContent = (content) => {\r\n            // console.log(\"ShowContent\", content);\r\n            switch (content) {\r\n                case \"dialogs\":\r\n                    return (h(\"s-saqhan-chat-users-wrapper\", { dialogs: this.dialogsState, categories: this.categoriesState, onClickToCategory: (item) => this.safeFiltersDialog(this.lastSearchDialog, item.detail, this.dialogs), onClickToDialog: (item) => this.clickToDialogHandler(item.detail), onClickToFilesBtn: () => this.clickToFilesBtnHandler(), onSearchDialog: (item) => this.safeFiltersDialog(item.detail, this.lastClickedCategory, this.dialogs), onSendNewMessModal: () => this.sendNewMessModal() }));\r\n                case \"personal\":\r\n                    return (\r\n                    // <div class='drop-file-wrapper' >\r\n                    //   <s-adam-copying></s-adam-copying>\r\n                    // </div>\r\n                    h(\"module-personal\", { chatPresenceState: this.chatPresenceState, openedDialog: this.openedDialog, chatActionState: this.chatActionState, writing: this.writing, canRecordAudio: this.canRecordAudio, onSendTextMessage: () => this.scrollMessageViewToBot(), dialogs: this.dialogsState, message: this.messageState, onSearchPersonalMessages: (e) => this.searchPersonalMessages(e.detail), onClickToShowDialogs: () => this.clickToShowDialogsHandler(), onClickToUserProfile: () => this.clickToUserProfileHandler(), onCancelSearchPersonal: () => this.cancelSearchPersonal() }));\r\n                case \"files\":\r\n                    return (h(\"s-saqhan-chat-files-wrapper\", {\r\n                        // onClickToLink={(item) => this.clickToLink(item.detail)}\r\n                        onClickToShowDialogs: () => this.clickToShowDialogsHandler()\r\n                    }));\r\n                case \"profile\":\r\n                    return (h(\"s-adam-profile\", { theme: \"module\", categories: this.categoriesState, onClickToShowDialogs: () => this.clickToShowDialogsHandler(), onClickToShowFolders: () => this.clickToShowFoldersHandler() }));\r\n                case \"contacts\":\r\n                    return (h(\"contacts-list\", { theme: \"module\", contacts: this.contacts,\r\n                        // onSearchContact={(detail) => this.searchContact({ detail })}\r\n                        onClickToShowDialogs: () => this.clickToShowDialogsHandler() }));\r\n                case \"folders\":\r\n                    return (h(\"user-folders\", { onCreateFolder: (e) => this.createFolderHandler(e.detail), dialogs: this.dialogsState, onClickToUserProfile: () => this.clickToUserProfileHandler() }));\r\n            }\r\n        };\r\n        this.showFullChat = createEvent(this, \"showFullChat\", 7);\r\n        this.createFolder = createEvent(this, \"createFolder\", 7);\r\n        this.clickToDialog = createEvent(this, \"clickToDialog\", 7);\r\n        this.sendTextMessage = createEvent(this, \"sendTextMessage\", 7);\r\n        this.clickToFilesBtn = createEvent(this, \"clickToFilesBtn\", 7);\r\n        this.searchContact = createEvent(this, \"searchContact\", 7);\r\n        this.chatViewStateChange = createEvent(this, \"chatViewStateChange\", 7);\r\n    }\r\n    /**\r\n     * позволяет установить печатающие данные\r\n     * */\r\n    async setWritingState(item) {\r\n        this.writing = item ? [item] : null;\r\n    }\r\n    /**\r\n     * меняет статус (присутстия собеседников или контакта) в чате\r\n     * */\r\n    async updateChatPresenceState(item) {\r\n        this.chatPresenceState = item;\r\n    }\r\n    /**\r\n     * меняет статусы действия текущих (печатает, записывает и т.д.)\r\n     * */\r\n    async updateChatActionState(item) {\r\n        this.chatActionState = item;\r\n    }\r\n    /**\r\n     * скрывает весь блок что бы на экране не было вообще видно\r\n     * */\r\n    async hide() {\r\n        this.visibleState = false;\r\n    }\r\n    /**\r\n     * позволяет активировать/деактивароть возможность записи аудио\r\n     * */\r\n    async activeRecordAudioState(state) {\r\n        this.canRecordAudio = state;\r\n    }\r\n    /**\r\n     * позволяет активировать/деактивароть возможность октрытие приложение\r\n     * */\r\n    async activeShowFullChat(state) {\r\n        this.disableShowFullChatState = !state;\r\n    }\r\n    /**\r\n     * сменить окно показа\r\n     * */\r\n    async changeViewToShow(state) {\r\n        this.chatViewState = state;\r\n    }\r\n    /**\r\n     * скролит вниз окно сообщений\r\n     * */\r\n    async safeScrollToBotMessageView() {\r\n        this.scrollMessageViewToBot();\r\n    }\r\n    /**\r\n     * показывает весь блок после скрытия\r\n     * */\r\n    async show() {\r\n        // show a prompt\r\n        this.visibleState = true;\r\n    }\r\n    /**\r\n     * показывает только кнопку\r\n     * */\r\n    async close() {\r\n        this.showChat(false);\r\n    }\r\n    /**\r\n     * открывает блок чатов\r\n     * */\r\n    async open() {\r\n        this.showChat(true);\r\n    }\r\n    /**\r\n     * */\r\n    async openDialog(dialog) {\r\n        this.open();\r\n        this.clickToDialogHandler(dialog, true);\r\n    }\r\n    watchDictionaryHandler(newValue) {\r\n        this.updateDictionary(newValue);\r\n    }\r\n    watchDialogsHandler(newValue) {\r\n        this.safeFiltersDialog(this.lastSearchDialog, this.lastClickedCategory, newValue);\r\n    }\r\n    watchMessageHandler(newValue, oldValue) {\r\n        console.log(\"The new value of activated is: \", { newValue, oldValue });\r\n        this.messageState = this.message;\r\n    }\r\n    watchCategoriesHandler(newValue) {\r\n        this.categoriesState = newValue;\r\n        this.safeFiltersDialog(this.lastSearchDialog, this.lastClickedCategory, this.dialogs);\r\n    }\r\n    componentDidLoad() {\r\n        this.updateDictionary(this.dictionary);\r\n    }\r\n    render() {\r\n        return (h(Host, { style: { display: !this.visibleState ? \"none\" : null } }, h(\"div\", { class: \"wrapper-modal\" }, this.openState ? (h(\"div\", { class: \"wrapper-chat\" }, h(\"module-header\", { disableShowFullChatState: this.disableShowFullChatState, onShowFullChat: () => this.showFullChatHandler(), onClose: () => this.onClose() }), h(\"div\", { class: \"m-chat-wrapper\" }, this.ShowContent(this.chatViewState)))) : (\"\"), h(\"btn-wrapper\", { onClickToShowChat: () => this.showChat(), showChat: this.openState, dialogs: this.countNewMess(this.dialogs) }))));\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    updateDictionary(newValue) {\r\n        ChatDictionaryService.dictionary$.next(newValue);\r\n        // console.log(\"changed - dictionary\");\r\n    }\r\n    countNewMess(array) {\r\n        let counter = 0;\r\n        array.map((item) => {\r\n            counter += item.newMessage;\r\n        });\r\n        return counter;\r\n    }\r\n    /**\r\n     * */\r\n    // public clickToCategory(value: ChatCategoryInterface) {\r\n    //   this.dialogsState = filterDialogsByCategory(value, this.dialogs);\r\n    // }\r\n    /**\r\n     * dialogue search\r\n     * */\r\n    safeFiltersDialog(searchValue, category, allDialogs) {\r\n        this.lastSearchDialog = searchValue;\r\n        this.lastClickedCategory = category;\r\n        let filteredDialogsBySearchValue = allDialogs;\r\n        if (!this.disableInnerSearchDialogsState) {\r\n            filteredDialogsBySearchValue = filterDialogsBySearchValue(searchValue, allDialogs);\r\n        }\r\n        this.dialogsState = filterDialogsByCategory(category, filteredDialogsBySearchValue);\r\n    }\r\n    /**\r\n     * search for private messages\r\n     * */\r\n    searchPersonalMessages(value) {\r\n        if (!this.disableInnerSearchMessagesState) {\r\n            this.messageState = filterMessageBySearchValue(value, this.message);\r\n        }\r\n    }\r\n    createFolderHandler(item) {\r\n        return item;\r\n        // console.log(\"createFolderHandler\", item);\r\n    }\r\n    /**\r\n     * Метод отмена поиска\r\n     * **/\r\n    cancelSearchPersonal() {\r\n        this.messageState = this.message;\r\n    }\r\n    /**\r\n     * Метод для изменения состояния чата\r\n     * */\r\n    showChat(state = !this.openState) {\r\n        this.openState = state;\r\n    }\r\n    /**\r\n     * Метод для закрытия чата\r\n     * */\r\n    onClose() {\r\n        this.openState = false;\r\n    }\r\n    /**\r\n     * click to Link\r\n     * */\r\n    clickToLinkHandler() {\r\n        return this.chatViewState;\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    clickToDialogHandler(dialog, pseudoClick) {\r\n        if (pseudoClick) {\r\n            this.clickToDialog.emit(dialog);\r\n        }\r\n        this.openedDialog = dialog;\r\n        this.updateViewState(ChatViewToShowEnum.personal);\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    clickToFilesBtnHandler() {\r\n        this.updateViewState(ChatViewToShowEnum.files);\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    showFullChatHandler() {\r\n        this.showFullChat.emit({\r\n            view: this.chatViewState,\r\n            data: this.chatViewState === ChatViewToShowEnum.personal\r\n                ? this.openedDialog\r\n                : null,\r\n        });\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    clickToShowDialogsHandler() {\r\n        this.updateViewState(ChatViewToShowEnum.dialogs);\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    clickToUserProfileHandler() {\r\n        this.updateViewState(ChatViewToShowEnum.profile);\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    sendNewMessModal() {\r\n        this.updateViewState(ChatViewToShowEnum.contacts);\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    clickToShowFoldersHandler() {\r\n        this.updateViewState(ChatViewToShowEnum.folders);\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    scrollMessageViewToBot() {\r\n        ChatMessagesLogic.safeScrollToBot();\r\n    }\r\n    /**\r\n     * */\r\n    updateViewState(state) {\r\n        this.chatViewStateChange.emit((this.chatViewState = state));\r\n    }\r\n    get el() { return getElement(this); }\r\n    static get watchers() { return {\r\n        \"dictionary\": [\"watchDictionaryHandler\"],\r\n        \"dialogs\": [\"watchDialogsHandler\"],\r\n        \"message\": [\"watchMessageHandler\"],\r\n        \"categories\": [\"watchCategoriesHandler\"]\r\n    }; }\r\n};\r\nCntModuleChat.style = cntModuleChatCss;\n\nexport { CntModuleChat as cnt_module_chat };\n"]}