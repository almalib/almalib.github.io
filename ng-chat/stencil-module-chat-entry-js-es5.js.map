{"version":3,"sources":["webpack:///node_modules/s-chat/dist/esm/index-582bc2f2.js","webpack:///node_modules/s-chat/dist/esm/module-chat.entry.js"],"names":["ChatMessageDirectionEnum","ChatMessageTypeEnum","ChatLinkTypeEnum","chatConvertWritingStatusToMessage","writing","content","type","loading","time","created","Date","now","direction","toMe","sender","uid","icon","name","phone","createTextMessage","text","options","createMessage","_a","_b","_c","_d","_e","_f","_g","fromMe","delivery","read","filterMessageBySearchValue","value","message","filter","item","toLowerCase","includes","filterDialogsBySearchValue","dialogs","filterContactBySearchValue","contacts","filterDialogsByCategory","category","id","dialog","ChatViewToShowEnum","ChatUserActionStatusState","ChatUserPresenceState","scrollToBot","scrollContainer","timer","y","cb","scrollBy","scrollHeight","setTimeout","moduleChatCss","ModuleChat","hostRef","messages","dictionary","window","ref","setInterval","ref2","el","categories","onClickToDialog","ev","clickToDialog","detail","onSendTextMessage","sendTextMessage","onShowFullChat","showFullChat","disableInnerSearchDialogsState","disableInnerSearchMessagesState","map","Object","assign","center","style"],"mappings":"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","file":"stencil-module-chat-entry-js-es5.js","sourcesContent":["/**\r\n *\r\n * */\r\nvar ChatMessageDirectionEnum;\r\n(function (ChatMessageDirectionEnum) {\r\n    /**\r\n     * сообщения написал кто то другой, и получено мною\r\n     * */\r\n    ChatMessageDirectionEnum[ChatMessageDirectionEnum[\"toMe\"] = 0] = \"toMe\";\r\n    /**\r\n     * сообщения написал я\r\n     * */\r\n    ChatMessageDirectionEnum[ChatMessageDirectionEnum[\"fromMe\"] = 1] = \"fromMe\";\r\n    /**\r\n     * сообщения которое будет отображаться в центре\r\n     * */\r\n    ChatMessageDirectionEnum[ChatMessageDirectionEnum[\"center\"] = 2] = \"center\";\r\n})(ChatMessageDirectionEnum || (ChatMessageDirectionEnum = {}));\r\n/**\r\n *\r\n * */\r\nvar ChatMessageTypeEnum;\r\n(function (ChatMessageTypeEnum) {\r\n    /**\r\n     * сообщения написал кто то другой, и получено мною\r\n     * */\r\n    ChatMessageTypeEnum[\"text\"] = \"text\";\r\n    /**\r\n     * аудио сообщения записанное самим пользователем\r\n     * */\r\n    ChatMessageTypeEnum[\"liveAudio\"] = \"live-audio\";\r\n    /**\r\n     * аудио сообщение любое которое не записано самим пользователем\r\n     * */\r\n    ChatMessageTypeEnum[\"audio\"] = \"audio\";\r\n    /**\r\n     * фотка сделанная на устройстве пользователя и отправленная сразу\r\n     * */\r\n    ChatMessageTypeEnum[\"liveImage\"] = \"live-image\";\r\n    /**\r\n     * фотка из устройства отправителя\r\n     * */\r\n    ChatMessageTypeEnum[\"image\"] = \"image\";\r\n    /**\r\n     * видео сделанная на устройстве пользователя и отправленная сразу\r\n     * */\r\n    ChatMessageTypeEnum[\"liveVideo\"] = \"live-video\";\r\n    /**\r\n     * видео из устройства отправителя\r\n     * */\r\n    ChatMessageTypeEnum[\"video\"] = \"video\";\r\n    /**\r\n     * файл из устройства отправителя\r\n     * */\r\n    ChatMessageTypeEnum[\"file\"] = \"file\";\r\n    /**\r\n     * timestamp\r\n     * */\r\n    ChatMessageTypeEnum[\"date\"] = \"date\";\r\n    /**\r\n     * Печатает сообщение\r\n     */\r\n    ChatMessageTypeEnum[\"loading\"] = \"loading\";\r\n})(ChatMessageTypeEnum || (ChatMessageTypeEnum = {}));\r\nvar ChatLinkTypeEnum;\r\n(function (ChatLinkTypeEnum) {\r\n    ChatLinkTypeEnum[\"showFile\"] = \"showFile\";\r\n    ChatLinkTypeEnum[\"showDialogs\"] = \"showDialogs\";\r\n    ChatLinkTypeEnum[\"showPersonalDialog\"] = \"showPersonalDialog\";\r\n    ChatLinkTypeEnum[\"userNamePersonal\"] = \"user-name-personal\";\r\n    ChatLinkTypeEnum[\"addDialog\"] = \"\\\"add-dialog\\\"\";\r\n    ChatLinkTypeEnum[\"fromMobileContacts\"] = \"\\\"contacts\\\"\";\r\n    ChatLinkTypeEnum[\"fromMobileMenuBar\"] = \"menu-bar\";\r\n})(ChatLinkTypeEnum || (ChatLinkTypeEnum = {}));\r\n/**\r\n *\r\n * */\r\nfunction chatConvertWritingStatusToMessage(writing) {\r\n    return {\r\n        /**\r\n         * содержимое сообщения\r\n         * */\r\n        content: null,\r\n        /**\r\n         * тип сообщения\r\n         * */\r\n        type: ChatMessageTypeEnum.loading,\r\n        /** время создание */\r\n        time: {\r\n            /** время создания */\r\n            created: Date.now(),\r\n        },\r\n        /**\r\n         * направления сообщения\r\n         * */\r\n        direction: ChatMessageDirectionEnum.toMe,\r\n        /**\r\n         * отправитель\r\n         * */\r\n        sender: {\r\n            uid: writing.uid,\r\n            icon: writing.icon,\r\n            name: writing.name,\r\n            phone: writing.phone,\r\n        },\r\n    };\r\n}\r\n// /**\r\n//  * dialogue search\r\n//  * */\r\n//  export function ChatSearchDialog(value: string) {\r\n//   if (!this.disableInnerSearchDialogs) {\r\n//     this.dialogsState = filterDialogsBySearchValue(\r\n//       value,\r\n//       this.dialogs\r\n//     );\r\n//   }\r\n// }\r\n// /**\r\n//  * search for private messages\r\n//  * */\r\n//  export function ChatSearchPersonalMessages(value: string ) {\r\n//   if (!this.disableInnerSearchMessages) {\r\n//     this.messageState = filterMessageBySearchValue(\r\n//       value,\r\n//       this.message\r\n//     )\r\n//   }\r\n// }\r\n/**\r\n * создание текстового сообщения\r\n * */\r\nfunction createTextMessage(text, sender, options) {\r\n    return createMessage(ChatMessageTypeEnum.text, text, sender, options);\r\n}\r\n/**\r\n * создание сообщения\r\n * */\r\nfunction createMessage(type, content, sender, options) {\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n    return {\r\n        content: content,\r\n        sender: sender,\r\n        type: type,\r\n        direction: (_a = options === null || options === void 0 ? void 0 : options.direction) !== null && _a !== void 0 ? _a : ChatMessageDirectionEnum.fromMe,\r\n        time: {\r\n            created: (_c = (_b = options === null || options === void 0 ? void 0 : options.time) === null || _b === void 0 ? void 0 : _b.created) !== null && _c !== void 0 ? _c : new Date(),\r\n            delivery: (_e = (_d = options === null || options === void 0 ? void 0 : options.time) === null || _d === void 0 ? void 0 : _d.created) !== null && _e !== void 0 ? _e : null,\r\n            read: (_g = (_f = options === null || options === void 0 ? void 0 : options.time) === null || _f === void 0 ? void 0 : _f.created) !== null && _g !== void 0 ? _g : null\r\n        },\r\n    };\r\n}\r\n/**\r\n * filter message by search value\r\n * */\r\nfunction filterMessageBySearchValue(value, message) {\r\n    return value\r\n        ? message.filter((item) => {\r\n            return typeof item.content === \"string\"\r\n                ? item.content.toLowerCase().includes(value.toLowerCase())\r\n                : false;\r\n        })\r\n        : message;\r\n}\r\n/**\r\n * filter dialogs by search value\r\n * */\r\nfunction filterDialogsBySearchValue(value, dialogs) {\r\n    return value\r\n        ? dialogs.filter((item) => {\r\n            return typeof item.name === \"string\"\r\n                ? item.name.toLowerCase().includes(value.toLowerCase())\r\n                : false;\r\n        })\r\n        : dialogs;\r\n}\r\n/**\r\n * filter contact by search value\r\n * */\r\nfunction filterContactBySearchValue(value, contacts) {\r\n    return value\r\n        ? contacts.filter((item) => {\r\n            return typeof item.name === \"string\"\r\n                ? item.name.toLowerCase().includes(value.toLowerCase())\r\n                : false;\r\n        })\r\n        : contacts;\r\n}\r\n/**\r\n * filter dialogs by category id\r\n * */\r\nfunction filterDialogsByCategory(category, dialogs) {\r\n    return (category && category.id !== \"all\")\r\n        ? dialogs.filter((dialog) => dialog.category === category.id)\r\n        : dialogs;\r\n}\r\nvar ChatViewToShowEnum;\r\n(function (ChatViewToShowEnum) {\r\n    ChatViewToShowEnum[\"files\"] = \"files\";\r\n    ChatViewToShowEnum[\"dialogs\"] = \"dialogs\";\r\n    ChatViewToShowEnum[\"personal\"] = \"personal\";\r\n    ChatViewToShowEnum[\"profile\"] = \"profile\";\r\n    ChatViewToShowEnum[\"users\"] = \"users\";\r\n    ChatViewToShowEnum[\"contacts\"] = \"contacts\";\r\n    ChatViewToShowEnum[\"folders\"] = \"folders\";\r\n})(ChatViewToShowEnum || (ChatViewToShowEnum = {}));\r\nvar ChatUserActionStatusState;\r\n(function (ChatUserActionStatusState) {\r\n    ChatUserActionStatusState[\"writing\"] = \"writing\";\r\n    ChatUserActionStatusState[\"audioRecording\"] = \"audio-recording\";\r\n})(ChatUserActionStatusState || (ChatUserActionStatusState = {}));\r\nvar ChatUserPresenceState;\r\n(function (ChatUserPresenceState) {\r\n    ChatUserPresenceState[ChatUserPresenceState[\"offline\"] = 0] = \"offline\";\r\n    ChatUserPresenceState[ChatUserPresenceState[\"online\"] = 1] = \"online\";\r\n})(ChatUserPresenceState || (ChatUserPresenceState = {}));\r\nfunction scrollToBot(scrollContainer, options) {\r\n    var _a;\r\n    const timer = (_a = options === null || options === void 0 ? void 0 : options.timer) !== null && _a !== void 0 ? _a : 100, y = options === null || options === void 0 ? void 0 : options.y, cb = () => {\r\n        scrollContainer.scrollBy(0, y !== null && y !== void 0 ? y : scrollContainer.scrollHeight);\r\n    };\r\n    if (timer) {\r\n        setTimeout(cb, timer);\r\n    }\r\n    else {\r\n        cb();\r\n    }\r\n}\n\nexport { ChatMessageDirectionEnum as C, ChatMessageTypeEnum as a, ChatUserPresenceState as b, ChatUserActionStatusState as c, createTextMessage as d, ChatViewToShowEnum as e, filterContactBySearchValue as f, filterDialogsBySearchValue as g, filterDialogsByCategory as h, filterMessageBySearchValue as i, chatConvertWritingStatusToMessage as j, scrollToBot as s };\n","import { r as registerInstance, f as forceUpdate, h, g as getElement } from './index-063f1606.js';\nimport { C as ChatMessageDirectionEnum, a as ChatMessageTypeEnum, d as createTextMessage } from './index-582bc2f2.js';\nimport { M as MessageMock, d as dialogs, D as DictionaryMock, b as DictionaryMockEng, c as categories, a as contacts, e as disableInnerSearchDialogs, f as disableInnerSearchMessages } from './mock-5b093f4b.js';\n\nconst moduleChatCss = \"\";\n\nconst ModuleChat = class {\r\n    constructor(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        this.messages = MessageMock;\r\n        this.dialogs = dialogs;\r\n        this.dictionary = DictionaryMock;\r\n    }\r\n    componentDidLoad() {\r\n        window['ref'] = this.ref;\r\n        setInterval(() => {\r\n            // console.log(\r\n            //   'messages setInterval',\r\n            //\r\n            // );\r\n            this.messages = [...MessageMock];\r\n            this.dialogs = [...dialogs];\r\n            this.dictionary = this.dictionary === DictionaryMock ? DictionaryMockEng : DictionaryMock;\r\n            // console.log(\r\n            //   'updated dictionary',\r\n            //   this.dictionary\r\n            // );\r\n            // @ts-ignore\r\n            forceUpdate(this.ref2);\r\n        }, 10000);\r\n    }\r\n    render() {\r\n        return (h(\"cnt-module-chat\", { ref: (el) => this.ref = el, categories: categories, dialogs: this.dialogs, contacts: contacts, dictionary: this.dictionary, message: this.messages, onClickToDialog: (ev) => this.clickToDialog(ev.detail), onSendTextMessage: (ev) => this.sendTextMessage(ev.detail), onShowFullChat: (ev) => this.showFullChat(ev.detail), disableInnerSearchDialogsState: disableInnerSearchDialogs, disableInnerSearchMessagesState: disableInnerSearchMessages }));\r\n    }\r\n    clickToDialog(dialog) {\r\n        this.messages = MessageMock.map((message) => (Object.assign(Object.assign({}, message), { content: (message.direction !== ChatMessageDirectionEnum.center &&\r\n                message.type === ChatMessageTypeEnum.text)\r\n                ? `${dialog.name}> ${message.content}`\r\n                : message.content })));\r\n        // console.log(\r\n        //   'clickToDialog [12]',\r\n        //   dialog\r\n        // );\r\n    }\r\n    showFullChat(ev) {\r\n        return ev;\r\n        // console.log(\r\n        //   'showFullChat',\r\n        //   ev\r\n        // )\r\n    }\r\n    sendTextMessage(message) {\r\n        // console.log(\r\n        //   'sendTextMessage [2]',\r\n        //   message\r\n        // );\r\n        this.messages = [\r\n            ...this.messages,\r\n            createTextMessage(message, {\r\n                uid: \"test-id-2\",\r\n                icon: \"https://via.placeholder.com/60x60?text=User\",\r\n                name: \"Адам\",\r\n                phone: \"79291234567\",\r\n            })\r\n        ];\r\n    }\r\n    get ref2() { return getElement(this); }\r\n};\r\nModuleChat.style = moduleChatCss;\n\nexport { ModuleChat as module_chat };\n"]}