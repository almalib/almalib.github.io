{"version":3,"sources":["webpack:///node_modules/s-chat/dist/esm/personal-header_2.entry.js"],"names":["personalHeaderCss","PersonalHeader","hostRef","isShowDropDown","isPersonalMess","showDrop","clickToLink","clickToUserProfile","searchContact","searchPersonalMessages","clickToShowDialogs","cancelSearchPersonal","clickToDialog","onClick","clickToShowDialogsHandler","clickToUserProfileHandler","getNameUser","chatPresenceState","online","showInputSearchPersonalMess","theme","chatActionState","type","placeholder","onInput","e","searchPersonalMessagesHandler","target","_a","openedDialog","name","emit","value","array","item","data","console","log","map","clickToDialogHandler","style","backgroundImage","img","slice","personalMessageCss","PersonalMessage","writing","setScrollToBot","scrollToBot","safeScrollToBot","getClassForHost","ref","el","scrollContainer","message","length","timer"],"mappings":"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","file":"stencil-personal-header_2-entry-js-es5.js","sourcesContent":["import { r as registerInstance, c as createEvent, h } from './index-063f1606.js';\nimport { a as ChatMessagesLogic } from './utils-f6ec1f87.js';\nimport { b as ChatUserPresenceState, s as scrollToBot, j as chatConvertWritingStatusToMessage } from './index-582bc2f2.js';\n\nconst personalHeaderCss = \".drop-down.sc-personal-header{position:absolute;right:20px;padding:10px;background-color:#dadada8f;border-radius:10px 0px 10px 10px}.drop-down.sc-personal-header ul.sc-personal-header li.sc-personal-header{list-style:none}.searchPersonalmess.sc-personal-header input.sc-personal-header{text-align:center;border-radius:5px;border:none;background-color:#eaeaea;width:100%;height:25px;font-size:14px;outline:none}.cancel-search.sc-personal-header{padding:5px;cursor:pointer}.search-wrapper.sc-personal-header{margin-bottom:-10px}.personal-header.sc-personal-header{padding:20px 20px 20px;border-bottom:1px solid #ccc;position:relative;height:85px}.header-nav.sc-personal-header{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.header-nav.sc-personal-header span.sc-personal-header i.sc-personal-header{color:#979eab;-webkit-transition:0.3s ease;transition:0.3s ease}.header-nav.sc-personal-header span.sc-personal-header i.sc-personal-header:hover{cursor:pointer;color:rgb(87, 128, 247)}.header-nav.sc-personal-header .user-name-personal-wrapper.sc-personal-header{font-weight:600;color:#4c567d;text-align:center;width:100%;position:relative}.users-nav.sc-personal-header{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-align:center;align-items:center;margin:auto;margin-top:7px}.img-user-other.sc-personal-header{text-align:center;border-radius:50%}.img-user-other.sc-personal-header .img.sc-personal-header{width:30px;height:30px;margin:3px;border-radius:50%;background-image:url(\\\"https://via.placeholder.com/300x300?text=User\\\");background-size:cover;background-position:center}.img-user-current.sc-personal-header{text-align:center;border:2px solid #4c567d;border-radius:50%}.img-user-current.sc-personal-header .img.sc-personal-header{width:35px;height:35px;margin:3px;border-radius:50%;background-image:url(\\\"https://via.placeholder.com/300x300?text=User\\\");background-size:cover;background-position:center}.user-active.sc-personal-header{width:100%;text-align:center}.user-active.sc-personal-header span.sc-personal-header{color:#4c567d;font-size:14px}.header-nav.sc-personal-header span.sc-personal-header i.sc-personal-header{width:14px}.user-name-personal.sc-personal-header{position:relative}.user-online-status.sc-personal-header,.user-ofline-status.sc-personal-header{width:10px;height:10px;border-radius:50%;display:inline-block;margin-left:5px}.user-online-status.sc-personal-header{background-color:#7dbd27}.user-ofline-status.sc-personal-header{background-color:#ccc}\";\n\nconst PersonalHeader = class {\r\n    constructor(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        /**\r\n         * Показывать/скрывать меню\r\n         * */\r\n        this.isShowDropDown = false;\r\n        /**\r\n         * Переключение поиска и окна с диалогами в шапке\r\n         * */\r\n        this.isPersonalMess = true;\r\n        this.showDrop = () => (this.isShowDropDown = !this.isShowDropDown);\r\n        this.clickToLink = createEvent(this, \"clickToLink\", 7);\r\n        this.clickToUserProfile = createEvent(this, \"clickToUserProfile\", 7);\r\n        this.searchContact = createEvent(this, \"searchContact\", 7);\r\n        this.searchPersonalMessages = createEvent(this, \"searchPersonalMessages\", 7);\r\n        this.clickToShowDialogs = createEvent(this, \"clickToShowDialogs\", 7);\r\n        this.cancelSearchPersonal = createEvent(this, \"cancelSearchPersonal\", 7);\r\n        this.clickToDialog = createEvent(this, \"clickToDialog\", 7);\r\n    }\r\n    render() {\r\n        return (h(\"div\", null, h(\"div\", { class: \"personal-header\" }, h(\"div\", { class: \"header-nav\" }, h(\"span\", { class: \"custom-link\", onClick: () => this.clickToShowDialogsHandler() }, h(\"i\", { class: \"c-chat c-chat-arrow-left\" })), h(\"span\", { class: \" user-name-personal-wrapper\" }, h(\"span\", { class: \"custom-link user-name-personal\", onClick: () => this.clickToUserProfileHandler() }, this.getNameUser(), this.chatPresenceState === ChatUserPresenceState.online\r\n            ? (h(\"span\", { class: \"user-online-status\" }))\r\n            : (h(\"span\", { class: \"user-ofline-status\" })))), h(\"span\", { class: \"custom-link\", onClick: () => this.showInputSearchPersonalMess() }, this.isPersonalMess ? (h(\"i\", { class: \"c-chat c-chat-search\" })) : (h(\"i\", { class: \"c-chat c-chat-times\" })))), h(\"div\", { class: \"users-nav\" }, h(\"div\", { class: \"user-active\" }, this.isPersonalMess ? (h(\"user-status\", { theme: \"module\", chatActionState: this.chatActionState, chatPresenceState: this.chatPresenceState })) : (h(\"div\", { class: \"search-wrapper\" }, h(\"div\", { class: \"searchPersonalmess\" }, h(\"input\", { type: \"text\", placeholder: \"search\", onInput: (e) => this.searchPersonalMessagesHandler(e.target[\"value\"]) })))))))));\r\n    }\r\n    /**\r\n     * get name user\r\n     * */\r\n    getNameUser() {\r\n        var _a;\r\n        return (_a = this.openedDialog) === null || _a === void 0 ? void 0 : _a.name;\r\n    }\r\n    showInputSearchPersonalMess() {\r\n        this.isPersonalMess = !this.isPersonalMess;\r\n        this.cancelSearchPersonal.emit();\r\n    }\r\n    /**\r\n     * show Dialogs\r\n     * */\r\n    clickToShowDialogsHandler() {\r\n        this.clickToShowDialogs.emit();\r\n    }\r\n    /**\r\n     * click to show user profile\r\n     * */\r\n    clickToUserProfileHandler() {\r\n        this.clickToUserProfile.emit();\r\n    }\r\n    /**\r\n     * search for private messages\r\n     * */\r\n    searchPersonalMessagesHandler(value) {\r\n        this.searchPersonalMessages.emit(value);\r\n    }\r\n    /**\r\n     * TODO\r\n     * Метод для получения изображений предыдущих и следующих диалогов\r\n     * */\r\n    getIconUsers(array) {\r\n    }\r\n    /**\r\n     * Управление по клику на диалог\r\n     * */\r\n    clickToDialogHandler(item) {\r\n        this.clickToDialog.emit({ data: item });\r\n        console.log(item);\r\n    }\r\n    /**\r\n     * Метод получения названий категорий\r\n     * */\r\n    getIconDialogs(array) {\r\n        return array\r\n            .map((item) => (h(\"div\", { class: \"img-user-other\" }, h(\"div\", { class: \"img online\", onClick: () => this.clickToDialogHandler(item), style: { backgroundImage: `url(${item.img})` } }))))\r\n            .slice(5);\r\n    }\r\n};\r\nPersonalHeader.style = personalHeaderCss;\n\nconst personalMessageCss = \".personal-message.sc-personal-message{padding:20px 0px;height:calc(100vh - 370px);overflow:auto}.mobile.sc-personal-message .personal-message.sc-personal-message{height:calc(100vh - 145px)}.mobile.sc-personal-message .personal-message.sc-personal-message{padding:20px}.module.sc-personal-message .personal-message.sc-personal-message{padding:20px;height:calc(100vh - 310px);overflow:hidden}.module.sc-personal-message .personal-message-inner.sc-personal-message{height:100%;overflow-y:auto}.module.sc-personal-message .personal-message.sc-personal-message .to-me-mess-wrapper.sc-personal-message .from-mess.sc-personal-message{max-width:260px}.sc-personal-message::-webkit-scrollbar{width:0px;background:transparent}@media (max-width: 414px){.module.sc-personal-message .personal-message.sc-personal-message{height:calc(100vh - 190px)}}\";\n\nconst PersonalMessage = class {\r\n    constructor(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        /**\r\n         * */\r\n        this.theme = \"mobile\";\r\n        /**\r\n         * */\r\n        this.writing = [];\r\n    }\r\n    componentDidLoad() {\r\n        // this.scrollToBot();\r\n        ChatMessagesLogic.setScrollToBot(() => {\r\n            this.scrollToBot();\r\n        });\r\n        ChatMessagesLogic.safeScrollToBot();\r\n    }\r\n    render() {\r\n        var _a;\r\n        return (h(\"div\", { class: this.getClassForHost() }, h(\"div\", { class: \"personal-message\" }, h(\"div\", { class: \"personal-message-inner\", ref: (el) => (this.scrollContainer = el) }, this.message.map((message) => {\r\n            return h(\"message-from\", { message: message });\r\n        }), ((_a = this.writing) === null || _a === void 0 ? void 0 : _a.length) ? (h(\"message-from\", { message: chatConvertWritingStatusToMessage(this.writing[0]) })) : (\"\")))));\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    getClassForHost() {\r\n        return {\r\n            [this.theme]: true,\r\n        };\r\n    }\r\n    /**\r\n     *\r\n     * */\r\n    scrollToBot() {\r\n        scrollToBot(this.scrollContainer, {\r\n            timer: 100,\r\n        });\r\n    }\r\n};\r\nPersonalMessage.style = personalMessageCss;\n\nexport { PersonalHeader as personal_header, PersonalMessage as personal_message };\n"]}